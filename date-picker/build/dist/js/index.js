var o=Object.defineProperty;var c=(l,e,t)=>e in l?o(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var n=(l,e,t)=>(c(l,typeof e!="symbol"?e+"":e,t),t),d=(l,e,t)=>{if(!e.has(l))throw TypeError("Cannot "+t)},s=(l,e,t)=>(d(l,e,"read from private field"),t?t.call(l):e.get(l)),r=(l,e,t,i)=>(d(l,e,"write to private field"),i?i.call(l,t):e.set(l,t),t);var a;class DatePicker{constructor(){n(this,"monthData",["January","February","March","April","May","June","July","August","September","October","November","December"]);a.set(this,{data:"",date:0,month:0,year:0});n(this,"selectedDate",{data:"",date:0,month:0,year:0});n(this,"datePickerEl");n(this,"dateInputEl");n(this,"calendarEl");n(this,"calendarMonthEl");n(this,"monthContentEl");n(this,"prevBtnEl");n(this,"nextBtnEl");n(this,"calendarDatesEl");n(this,"initCalendarDate",()=>{const e=new Date,t=e.getDate(),i=e.getMonth(),h=e.getFullYear();r(this,a,{data:e,date:t,month:i,year:h})});n(this,"initSelectedDate",()=>{this.selectedDate={...s(this,a)}});n(this,"setDateInput",()=>{this.dateInputEl.textContent=this.formatDate(this.selectedDate.data),this.dateInputEl.dataset.value=this.selectedDate.data});n(this,"addEvent",()=>{this.dateInputEl.addEventListener("click",this.toggleCalendar),this.nextBtnEl.addEventListener("click",this.moveToNextMonth),this.prevBtnEl.addEventListener("click",this.moveToPrevMonth),this.calendarDatesEl.addEventListener("click",this.onClickSelectDate)});n(this,"toggleCalendar",()=>{this.calendarEl.classList.contains("active")&&r(this,a,{...this.selectedDate}),this.calendarEl.classList.toggle("active"),this.updateMonth(),this.updateDates()});n(this,"updateMonth",()=>{this.monthContentEl.textContent=`${s(this,a).year} ${this.monthData[s(this,a).month]}`});n(this,"updateDates",()=>{this.calendarDatesEl.innerHTML="";const e=new Date(s(this,a).year,s(this,a).month+1,0).getDate(),t=new DocumentFragment;for(let i=0;i<e;i++){const h=document.createElement("div");h.classList.add("date"),h.textContent=i+1,h.dataset.date=i+1,t.appendChild(h)}t.firstChild.style.gridColumnStart=new Date(s(this,a).year,s(this,a).month,1).getDay()+1,this.calendarDatesEl.appendChild(t),this.colorSaturday(),this.colorSunday(),this.markToday(),this.markSelectedDate()});n(this,"colorSaturday",()=>{const e=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n + ${7-new Date(s(this,a).year,s(this,a).month,1).getDay()})`);for(let t=0;t<e.length;t++)e[t].style.color="blue"});n(this,"colorSunday",()=>{const e=this.calendarDatesEl.querySelectorAll(`.date:nth-child(7n + ${(8-new Date(s(this,a).year,s(this,a).month,1).getDay())%7})`);for(let t=0;t<e.length;t++)e[t].style.color="red"});n(this,"markToday",()=>{const e=new Date,t=e.getMonth(),i=e.getFullYear(),h=e.getDate();i===s(this,a).year&&t===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${h}']`).classList.add("today")});n(this,"markSelectedDate",()=>{this.selectedDate.year===s(this,a).year&&this.selectedDate.month===s(this,a).month&&this.calendarDatesEl.querySelector(`[data-date='${this.selectedDate.date}']`).classList.add("selected")});n(this,"moveToNextMonth",()=>{s(this,a).month++,s(this,a).month>11&&(s(this,a).month=0,s(this,a).year++),this.updateMonth(),this.updateDates()});n(this,"moveToPrevMonth",()=>{s(this,a).month--,s(this,a).month<0&&(s(this,a).month=11,s(this,a).year--),this.updateMonth(),this.updateDates()});n(this,"onClickSelectDate",e=>{const t=e.target;t.dataset.date&&(this.calendarDatesEl.querySelector(".selected")?.classList.remove("selected"),t.classList.add("selected"),this.selectedDate={data:new Date(s(this,a).year,s(this,a).month,t.dataset.date),year:s(this,a).year,month:s(this,a).month,date:t.dataset.date},this.setDateInput(),this.calendarEl.classList.remove("active"))});n(this,"formatDate",e=>{let t=e.getDate();t<10&&(t=`0${t}`);let i=e.getMonth()+1;return i<10&&(i=`0${i}`),`${e.getFullYear()}/${i}/${t}`});this.initCalendarDate(),this.initSelectedDate(),this.assignElement(),this.setDateInput(),this.addEvent()}assignElement(){this.datePickerEl=document.getElementById("date-picker"),this.dateInputEl=this.datePickerEl.querySelector("#date-input"),this.calendarEl=this.datePickerEl.querySelector("#calendar"),this.calendarMonthEl=this.calendarEl.querySelector("#month"),this.monthContentEl=this.calendarMonthEl.querySelector("#content"),this.prevBtnEl=this.calendarMonthEl.querySelector("#prev"),this.nextBtnEl=this.calendarMonthEl.querySelector("#next"),this.calendarDatesEl=this.calendarEl.querySelector("#dates")}}a=new WeakMap,new DatePicker;
